{% extends 'index.html' %}
{% block content %}




<div class="container mt-4">
  <!-- <h2>Order #{{ order.id }}</h2>  -->
<p>{{order.user.name}}</p>
<p>{{order.user.email}}</p>
<p>{{order.user.phone}}</p>
  <!-- <p><strong>Name:</strong>{{order.user.name}}</p>
  <p><strong>Email:</strong>{{order.user.email}}</p>
  <p><strong>Phone Number:</strong>{{order.user.phone}}</p> -->
  <p><strong>Status:</strong> {{ order.status }}</p>
  <p><strong>Date:</strong> {{ order.created_at }}</p>
  <p><strong>Shipping Address:</strong> {{ order.address }}, {{ order.city }}, {{ order.state }}, {{ order.postal_code }}, {{ order.country }}</p>

  <h4 class="mt-3">Items</h4>
  <table class="table">
    <thead>
      <tr>
        <th>Product</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      {% for item in order.items.all %}
      <tr>
        <td>{{ item.product.name }}</td>
        <td>{{ item.quantity }}</td>
        <!-- <td>₹{{ item.price }}</td> -->
         <td>₹{{ item.product.final_price }}</td>
         <td>₹{{ item.subtotal|floatformat:2 }}</td>

        <!-- <td>₹{{ item.price|floatformat:2|add:""|floatformat:2|stringformat:"s"|add:""|add:item.quantity }}</td> -->
        <!-- <td>₹{{ item.price|floatformat:2 }}</td> -->
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <h4 class="text-end">Total Amount: ₹{{ order.total_amount }}</h4>
<div class="text-end mt-3 mb-3">
  <button class="btn btn-black" style="padding: 10px 20px; background: black; color: white; border-radius: 5px; text-decoration: none;">Make Payment</button>
</div>
</div>

{% endblock %}
