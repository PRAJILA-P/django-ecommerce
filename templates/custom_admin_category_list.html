{% extends "custom_admin_base.html" %}
{% block content %}
{% load static %}

 {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }}" style="text-align: center;">{{ message }}</div>
      {% endfor %}
    {% endif %}

<div class="container mt-4">
    <h2 class="mb-3">Category Management</h2>
    <a href="{% url 'ad_min:category_add' %}" class="btn btn-primary mb-3">+ Add Category</a>

    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Name</th>
                <th>Slug</th>
                <th>Parent</th>
                <th>Image</th>
                <th colspan="2" style="text-align: center;">Action</th>
            </tr>
        </thead>
        <tbody>
        {% for category in categories %}
            <tr>
                <td>
                    
                        {{ category.name }}
                    
                </td>
                <td>{{ category.slug }}</td>
                <td>{{ category.parent }}</td>
                <td>
                    {% if category.image %}
                        <img src="{{ category.image.url }}" alt="" width="50">
                    {% endif %}
                </td>
                <td>
                    <a href="{% url 'ad_min:category_edit' category.id %}" class="btn btn-sm btn-warning">Edit</a>
                </td>
                <td>
                 <a href="{% url 'ad_min:category_delete' category.id %}" 
       class="btn btn-sm btn-danger"
       onclick="return confirm('Are you sure you want to delete this category?');">
       Delete
    </a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
