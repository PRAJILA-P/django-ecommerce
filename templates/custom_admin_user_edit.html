{% extends 'custom_admin_base.html' %}


{% block content %}
{% load static %}

<style>
  .form-container {
    width: 800px;
    margin: 40px auto;
    background: #fff;
    padding: 25px 30px;
    border-radius: 12px;
    box-shadow: 0px 4px 12px rgba(0,0,0,0.15);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #000;
  }

  .form-container h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #000;
  }

  .form-container label {
    display: block;
    margin: 12px 0 5px;
    font-weight: 500;
    color: #000;
  }

  .form-container input,
  .form-container select {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #000;
    border-radius: 8px;
    font-size: 14px;
    background: #fff;
    color: #000;
    transition: 0.2s ease;
  }

  .form-container input:focus,
  .form-container select:focus {
    border-color: #000;
    outline: none;
    box-shadow: 0px 0px 4px rgba(0,0,0,0.4);
  }

  .form-container em {
    font-size: 13px;
    color: #555;
  }

  .form-container .btn {
    display: block;
    width: 100%;
    background: #000;
    color: #fff;
    border: none;
    padding: 12px;
    border-radius: 8px;
    font-size: 16px;
    margin-top: 20px;
    cursor: pointer;
    transition: 0.3s;
  }

  .form-container .btn:hover {
    background: #333;
  }

  .form-container .btn:active {
    background: #000;
    opacity: 0.8;
  }

  .form-container .message {
    text-align: center;
    margin-top: 10px;
    font-size: 14px;
  }

  .form-container .message.success {
    color: #000; /* Black for success */
  }

  .form-container .message.error {
    color: #555; /* Dark gray for error */
  }
</style>

<div class="form-container">
  <h2>Edit Profile</h2>

  <form method="POST" action="{% url 'ad_min:custom_admin_user_edit' user.id %}">
    {% csrf_token %}

    <label for="name">Name</label>
    <input type="text" id="name" name="name" value="{{ user.name }}" required>

    <label for="phone">Phone</label>
    <input type="text" id="phone" name="phone" value="{{ user.phone }}" required>

    <label for="email">Email</label>
    <input type="email" id="email" name="email" value="{{ user.email }}" required>

    <label for="gender">Gender</label>
    <select name="gender" id="gender" required>
      <option value="M" {% if user.gender == "M" %}selected{% endif %}>Male</option>
      <option value="F" {% if user.gender == "F" %}selected{% endif %}>Female</option>
      <option value="O" {% if user.gender == "O" %}selected{% endif %}>Other</option>
    </select>

    <p><em>Leave password field empty if you don't want to change password</em></p>
    <label for="password">New Password</label>
    <input type="text" name="password" value="{{ user.password }}" placeholder="New Password" />

    {% if messages %}
      {% for message in messages %}
        <div class="message {% if message.tags == 'error' %}error{% else %}success{% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}

    <div class="d-flex gap-2">
    <button type="submit" class="btn">Update Profile</button>

    {% if user and user.id %}
        <a href="{% url 'ad_min:custom_admin_user_delete' user.id %}" 
           class="btn btn-sm btn-danger"
           onclick="return confirm('Are you sure you want to delete this user?');">
           Delete
        </a>
    {% endif %}

    <a href="{% url 'ad_min:custom_admin_user' %}" class="btn btn-secondary">Cancel</a>
</div>


  </form>
</div>

{% endblock %}
